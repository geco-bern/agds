<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Programming primers | Applied Geodata Science</title>
  <meta name="description" content="This course prepares you to benefit from the general data richness in environmental and geo-sciences." />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Programming primers | Applied Geodata Science" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This course prepares you to benefit from the general data richness in environmental and geo-sciences." />
  <meta name="github-repo" content="stineb/agsd" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Programming primers | Applied Geodata Science" />
  
  <meta name="twitter:description" content="This course prepares you to benefit from the general data richness in environmental and geo-sciences." />
  

<meta name="author" content="Benjamin Stocker (lead), Koen Hufkens (contributing), Pepa Aran (contributing), Pascal Schneider (contributing)" />


<meta name="date" content="2023-01-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting_started.html"/>
<link rel="next" href="data_wrangling.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Applied Geodata Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this book</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#target-readers-of-this-book"><i class="fa fa-check"></i><b>0.1</b> Target readers of this book</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="0.2" data-path="introduction.html"><a href="introduction.html#what-is-applied-geodata-science"><i class="fa fa-check"></i><b>0.2</b> What is Applied Geodata Science?</a></li>
<li class="chapter" data-level="0.3" data-path="introduction.html"><a href="introduction.html#data-science-workflow"><i class="fa fa-check"></i><b>0.3</b> The (data) science workflow</a></li>
<li class="chapter" data-level="0.4" data-path="introduction.html"><a href="introduction.html#data-rich-era"><i class="fa fa-check"></i><b>0.4</b> Why now?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting_started.html"><a href="getting_started.html"><i class="fa fa-check"></i><b>1</b> Getting started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting_started.html"><a href="getting_started.html#learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Learning objectives</a></li>
<li class="chapter" data-level="1.2" data-path="getting_started.html"><a href="getting_started.html#tutorial"><i class="fa fa-check"></i><b>1.2</b> Tutorial</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="getting_started.html"><a href="getting_started.html#working-with-r-and-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Working with R and RStudio</a></li>
<li class="chapter" data-level="1.2.2" data-path="getting_started.html"><a href="getting_started.html#r-objects"><i class="fa fa-check"></i><b>1.2.2</b> R objects</a></li>
<li class="chapter" data-level="1.2.3" data-path="getting_started.html"><a href="getting_started.html#r-scripts"><i class="fa fa-check"></i><b>1.2.3</b> R scripts</a></li>
<li class="chapter" data-level="1.2.4" data-path="getting_started.html"><a href="getting_started.html#workspace-management"><i class="fa fa-check"></i><b>1.2.4</b> Workspace management</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="getting_started.html"><a href="getting_started.html#exercises"><i class="fa fa-check"></i><b>1.3</b> Exercises</a></li>
<li class="chapter" data-level="1.4" data-path="getting_started.html"><a href="getting_started.html#solutions"><i class="fa fa-check"></i><b>1.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="programming_primers.html"><a href="programming_primers.html"><i class="fa fa-check"></i><b>2</b> Programming primers</a>
<ul>
<li class="chapter" data-level="2.1" data-path="programming_primers.html"><a href="programming_primers.html#learning-objectives-1"><i class="fa fa-check"></i><b>2.1</b> Learning objectives</a></li>
<li class="chapter" data-level="2.2" data-path="programming_primers.html"><a href="programming_primers.html#tutorial-1"><i class="fa fa-check"></i><b>2.2</b> Tutorial</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="programming_primers.html"><a href="programming_primers.html#libraries"><i class="fa fa-check"></i><b>2.2.1</b> Libraries</a></li>
<li class="chapter" data-level="2.2.2" data-path="programming_primers.html"><a href="programming_primers.html#programming-basics"><i class="fa fa-check"></i><b>2.2.2</b> Programming basics</a></li>
<li class="chapter" data-level="2.2.3" data-path="programming_primers.html"><a href="programming_primers.html#working-with-data-frames"><i class="fa fa-check"></i><b>2.2.3</b> Working with data frames</a></li>
<li class="chapter" data-level="2.2.4" data-path="programming_primers.html"><a href="programming_primers.html#where-to-find-help"><i class="fa fa-check"></i><b>2.2.4</b> Where to find help</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="programming_primers.html"><a href="programming_primers.html#exercises-1"><i class="fa fa-check"></i><b>2.3</b> Exercises</a></li>
<li class="chapter" data-level="2.4" data-path="programming_primers.html"><a href="programming_primers.html#solutions-1"><i class="fa fa-check"></i><b>2.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data_wrangling.html"><a href="data_wrangling.html"><i class="fa fa-check"></i><b>3</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data_wrangling.html"><a href="data_wrangling.html#learning-objectives-2"><i class="fa fa-check"></i><b>3.1</b> Learning objectives</a></li>
<li class="chapter" data-level="3.2" data-path="data_wrangling.html"><a href="data_wrangling.html#tutorial-2"><i class="fa fa-check"></i><b>3.2</b> Tutorial</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data_wrangling.html"><a href="data_wrangling.html#example-data"><i class="fa fa-check"></i><b>3.2.1</b> Example data</a></li>
<li class="chapter" data-level="3.2.2" data-path="data_wrangling.html"><a href="data_wrangling.html#required-libraries"><i class="fa fa-check"></i><b>3.2.2</b> Required libraries</a></li>
<li class="chapter" data-level="3.2.3" data-path="data_wrangling.html"><a href="data_wrangling.html#tidyverse"><i class="fa fa-check"></i><b>3.2.3</b> Tidyverse</a></li>
<li class="chapter" data-level="3.2.4" data-path="data_wrangling.html"><a href="data_wrangling.html#tabular-data"><i class="fa fa-check"></i><b>3.2.4</b> Tabular data</a></li>
<li class="chapter" data-level="3.2.5" data-path="data_wrangling.html"><a href="data_wrangling.html#variable-selection"><i class="fa fa-check"></i><b>3.2.5</b> Variable selection</a></li>
<li class="chapter" data-level="3.2.6" data-path="data_wrangling.html"><a href="data_wrangling.html#time-objects"><i class="fa fa-check"></i><b>3.2.6</b> Time objects</a></li>
<li class="chapter" data-level="3.2.7" data-path="data_wrangling.html"><a href="data_wrangling.html#variable-re--definition"><i class="fa fa-check"></i><b>3.2.7</b> Variable (re-) definition</a></li>
<li class="chapter" data-level="3.2.8" data-path="data_wrangling.html"><a href="data_wrangling.html#axes-of-variation"><i class="fa fa-check"></i><b>3.2.8</b> Axes of variation</a></li>
<li class="chapter" data-level="3.2.9" data-path="data_wrangling.html"><a href="data_wrangling.html#tidy-data"><i class="fa fa-check"></i><b>3.2.9</b> Tidy data</a></li>
<li class="chapter" data-level="3.2.10" data-path="data_wrangling.html"><a href="data_wrangling.html#aggregating-data"><i class="fa fa-check"></i><b>3.2.10</b> Aggregating data</a></li>
<li class="chapter" data-level="3.2.11" data-path="data_wrangling.html"><a href="data_wrangling.html#data-cleaning"><i class="fa fa-check"></i><b>3.2.11</b> Data cleaning</a></li>
<li class="chapter" data-level="3.2.12" data-path="data_wrangling.html"><a href="data_wrangling.html#combining-relational-data"><i class="fa fa-check"></i><b>3.2.12</b> Combining relational data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data_wrangling.html"><a href="data_wrangling.html#extra-material"><i class="fa fa-check"></i><b>3.3</b> Extra material</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data_wrangling.html"><a href="data_wrangling.html#functional-programming-i"><i class="fa fa-check"></i><b>3.3.1</b> Functional programming I</a></li>
<li class="chapter" data-level="3.3.2" data-path="data_wrangling.html"><a href="data_wrangling.html#strings"><i class="fa fa-check"></i><b>3.3.2</b> Strings</a></li>
<li class="chapter" data-level="3.3.3" data-path="data_wrangling.html"><a href="data_wrangling.html#functional-programming-ii"><i class="fa fa-check"></i><b>3.3.3</b> Functional programming II</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data_wrangling.html"><a href="data_wrangling.html#exercises-2"><i class="fa fa-check"></i><b>3.4</b> Exercises</a></li>
<li class="chapter" data-level="3.5" data-path="data_wrangling.html"><a href="data_wrangling.html#solutions-2"><i class="fa fa-check"></i><b>3.5</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data_vis.html"><a href="data_vis.html"><i class="fa fa-check"></i><b>4</b> Data visualisation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data_vis.html"><a href="data_vis.html#learning-objectives-3"><i class="fa fa-check"></i><b>4.1</b> Learning objectives</a></li>
<li class="chapter" data-level="4.2" data-path="data_vis.html"><a href="data_vis.html#required-packages"><i class="fa fa-check"></i><b>4.2</b> Required packages</a></li>
<li class="chapter" data-level="4.3" data-path="data_vis.html"><a href="data_vis.html#tutorial-3"><i class="fa fa-check"></i><b>4.3</b> Tutorial</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data_vis.html"><a href="data_vis.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>4.3.1</b> The grammar of graphics</a></li>
<li class="chapter" data-level="4.3.2" data-path="data_vis.html"><a href="data_vis.html#every-data-has-its-representation"><i class="fa fa-check"></i><b>4.3.2</b> Every data has its representation</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data_vis.html"><a href="data_vis.html#exercises-3"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
<li class="chapter" data-level="4.5" data-path="data_vis.html"><a href="data_vis.html#solutions-3"><i class="fa fa-check"></i><b>4.5</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data_variety.html"><a href="data_variety.html"><i class="fa fa-check"></i><b>5</b> Data variety</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data_variety.html"><a href="data_variety.html#learning-objectives-4"><i class="fa fa-check"></i><b>5.1</b> Learning objectives</a></li>
<li class="chapter" data-level="5.2" data-path="data_variety.html"><a href="data_variety.html#tutorial-4"><i class="fa fa-check"></i><b>5.2</b> Tutorial</a></li>
<li class="chapter" data-level="5.3" data-path="data_variety.html"><a href="data_variety.html#files-and-file-formats"><i class="fa fa-check"></i><b>5.3</b> Files and file formats</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data_variety.html"><a href="data_variety.html#file-extensions"><i class="fa fa-check"></i><b>5.3.1</b> File extensions</a></li>
<li class="chapter" data-level="5.3.2" data-path="data_variety.html"><a href="data_variety.html#file-formats"><i class="fa fa-check"></i><b>5.3.2</b> File formats</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data_variety.html"><a href="data_variety.html#meta-data"><i class="fa fa-check"></i><b>5.4</b> Meta-data</a></li>
<li class="chapter" data-level="5.5" data-path="data_variety.html"><a href="data_variety.html#spatial-data-representation"><i class="fa fa-check"></i><b>5.5</b> Spatial data representation</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="data_variety.html"><a href="data_variety.html#raster-data-model"><i class="fa fa-check"></i><b>5.5.1</b> Raster data model</a></li>
<li class="chapter" data-level="5.5.2" data-path="data_variety.html"><a href="data_variety.html#vector-data-model"><i class="fa fa-check"></i><b>5.5.2</b> Vector data model</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="data_variety.html"><a href="data_variety.html#data-sources"><i class="fa fa-check"></i><b>5.6</b> Data sources</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="data_variety.html"><a href="data_variety.html#direct-downloads"><i class="fa fa-check"></i><b>5.6.1</b> Direct downloads</a></li>
<li class="chapter" data-level="5.6.2" data-path="data_variety.html"><a href="data_variety.html#apis"><i class="fa fa-check"></i><b>5.6.2</b> APIs</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="data_variety.html"><a href="data_variety.html#exercises-4"><i class="fa fa-check"></i><b>5.7</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="data_variety.html"><a href="data_variety.html#files-and-file-formats-1"><i class="fa fa-check"></i><b>5.7.1</b> Files and file formats</a></li>
<li class="chapter" data-level="5.7.2" data-path="data_variety.html"><a href="data_variety.html#api-use"><i class="fa fa-check"></i><b>5.7.2</b> API use</a></li>
<li class="chapter" data-level="5.7.3" data-path="data_variety.html"><a href="data_variety.html#get-1"><i class="fa fa-check"></i><b>5.7.3</b> GET</a></li>
<li class="chapter" data-level="5.7.4" data-path="data_variety.html"><a href="data_variety.html#dedicated-library"><i class="fa fa-check"></i><b>5.7.4</b> Dedicated library</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="data_variety.html"><a href="data_variety.html#solutions-4"><i class="fa fa-check"></i><b>5.8</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="code_mgmt.html"><a href="code_mgmt.html"><i class="fa fa-check"></i><b>6</b> Code management</a>
<ul>
<li class="chapter" data-level="6.1" data-path="code_mgmt.html"><a href="code_mgmt.html#learning-objectives-5"><i class="fa fa-check"></i><b>6.1</b> Learning objectives</a></li>
<li class="chapter" data-level="6.2" data-path="code_mgmt.html"><a href="code_mgmt.html#tutorial-5"><i class="fa fa-check"></i><b>6.2</b> Tutorial</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="code_mgmt.html"><a href="code_mgmt.html#git-and-local-version-control"><i class="fa fa-check"></i><b>6.2.1</b> Git and local version control</a></li>
<li class="chapter" data-level="6.2.2" data-path="code_mgmt.html"><a href="code_mgmt.html#remote-version-control"><i class="fa fa-check"></i><b>6.2.2</b> Remote version control</a></li>
<li class="chapter" data-level="6.2.3" data-path="code_mgmt.html"><a href="code_mgmt.html#location-based-code-management---github-templates"><i class="fa fa-check"></i><b>6.2.3</b> Location based code management - github templates</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="code_mgmt.html"><a href="code_mgmt.html#exercises-5"><i class="fa fa-check"></i><b>6.3</b> Exercises</a></li>
<li class="chapter" data-level="6.4" data-path="code_mgmt.html"><a href="code_mgmt.html#solutions-5"><i class="fa fa-check"></i><b>6.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="open_science.html"><a href="open_science.html"><i class="fa fa-check"></i><b>7</b> Open science practices</a>
<ul>
<li class="chapter" data-level="7.1" data-path="open_science.html"><a href="open_science.html#learning-objectives-6"><i class="fa fa-check"></i><b>7.1</b> Learning objectives</a></li>
<li class="chapter" data-level="7.2" data-path="open_science.html"><a href="open_science.html#tutorial-6"><i class="fa fa-check"></i><b>7.2</b> Tutorial</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="open_science.html"><a href="open_science.html#project-structure"><i class="fa fa-check"></i><b>7.2.1</b> Project structure</a></li>
<li class="chapter" data-level="7.2.2" data-path="open_science.html"><a href="open_science.html#managing-workflows"><i class="fa fa-check"></i><b>7.2.2</b> Managing workflows</a></li>
<li class="chapter" data-level="7.2.3" data-path="open_science.html"><a href="open_science.html#capturing-your-session-state"><i class="fa fa-check"></i><b>7.2.3</b> Capturing your session state</a></li>
<li class="chapter" data-level="7.2.4" data-path="open_science.html"><a href="open_science.html#capturing-a-system-state"><i class="fa fa-check"></i><b>7.2.4</b> Capturing a system state</a></li>
<li class="chapter" data-level="7.2.5" data-path="open_science.html"><a href="open_science.html#readable-reporting-using-rmarkdown"><i class="fa fa-check"></i><b>7.2.5</b> Readable reporting using Rmarkdown</a></li>
<li class="chapter" data-level="7.2.6" data-path="open_science.html"><a href="open_science.html#data-retention"><i class="fa fa-check"></i><b>7.2.6</b> Data retention</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="open_science.html"><a href="open_science.html#exercises-6"><i class="fa fa-check"></i><b>7.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="open_science.html"><a href="open_science.html#data-and-code-management"><i class="fa fa-check"></i><b>7.3.1</b> Data and code management</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="open_science.html"><a href="open_science.html#references"><i class="fa fa-check"></i><b>7.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regression_classification.html"><a href="regression_classification.html"><i class="fa fa-check"></i><b>8</b> Regression and classification</a>
<ul>
<li class="chapter" data-level="8.1" data-path="regression_classification.html"><a href="regression_classification.html#learning-objectives-7"><i class="fa fa-check"></i><b>8.1</b> Learning objectives</a></li>
<li class="chapter" data-level="8.2" data-path="regression_classification.html"><a href="regression_classification.html#tutorial-7"><i class="fa fa-check"></i><b>8.2</b> Tutorial</a></li>
<li class="chapter" data-level="8.3" data-path="regression_classification.html"><a href="regression_classification.html#exercises-7"><i class="fa fa-check"></i><b>8.3</b> Exercises</a></li>
<li class="chapter" data-level="8.4" data-path="regression_classification.html"><a href="regression_classification.html#solutions-6"><i class="fa fa-check"></i><b>8.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="supervised_ml.html"><a href="supervised_ml.html"><i class="fa fa-check"></i><b>9</b> Supervised machine learning</a>
<ul>
<li class="chapter" data-level="9.1" data-path="supervised_ml.html"><a href="supervised_ml.html#learning-objectives-8"><i class="fa fa-check"></i><b>9.1</b> Learning objectives</a></li>
<li class="chapter" data-level="9.2" data-path="supervised_ml.html"><a href="supervised_ml.html#tutorial-8"><i class="fa fa-check"></i><b>9.2</b> Tutorial</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="supervised_ml.html"><a href="supervised_ml.html#required-packages-1"><i class="fa fa-check"></i><b>9.2.1</b> Required packages</a></li>
<li class="chapter" data-level="9.2.2" data-path="supervised_ml.html"><a href="supervised_ml.html#overfitting"><i class="fa fa-check"></i><b>9.2.2</b> Overfitting</a></li>
<li class="chapter" data-level="9.2.3" data-path="supervised_ml.html"><a href="supervised_ml.html#data-and-the-modelling-challenge"><i class="fa fa-check"></i><b>9.2.3</b> Data and the modelling challenge</a></li>
<li class="chapter" data-level="9.2.4" data-path="supervised_ml.html"><a href="supervised_ml.html#k-nearest-neighbours"><i class="fa fa-check"></i><b>9.2.4</b> K-nearest neighbours</a></li>
<li class="chapter" data-level="9.2.5" data-path="supervised_ml.html"><a href="supervised_ml.html#model-formulation"><i class="fa fa-check"></i><b>9.2.5</b> Model formulation</a></li>
<li class="chapter" data-level="9.2.6" data-path="supervised_ml.html"><a href="supervised_ml.html#data-splitting"><i class="fa fa-check"></i><b>9.2.6</b> Data splitting</a></li>
<li class="chapter" data-level="9.2.7" data-path="supervised_ml.html"><a href="supervised_ml.html#preprocessing"><i class="fa fa-check"></i><b>9.2.7</b> Pre-processing</a></li>
<li class="chapter" data-level="9.2.8" data-path="supervised_ml.html"><a href="supervised_ml.html#putting-it-all-together-half-way"><i class="fa fa-check"></i><b>9.2.8</b> Putting it all together (half-way)</a></li>
<li class="chapter" data-level="9.2.9" data-path="supervised_ml.html"><a href="supervised_ml.html#training"><i class="fa fa-check"></i><b>9.2.9</b> Model training</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="supervised_ml.html"><a href="supervised_ml.html#exercises-8"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
<li class="chapter" data-level="9.4" data-path="supervised_ml.html"><a href="supervised_ml.html#solutions-7"><i class="fa fa-check"></i><b>9.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="random_forest.html"><a href="random_forest.html"><i class="fa fa-check"></i><b>10</b> Random forest</a>
<ul>
<li class="chapter" data-level="10.1" data-path="random_forest.html"><a href="random_forest.html#learning-objectives-9"><i class="fa fa-check"></i><b>10.1</b> Learning objectives</a></li>
<li class="chapter" data-level="10.2" data-path="random_forest.html"><a href="random_forest.html#tutorial-9"><i class="fa fa-check"></i><b>10.2</b> Tutorial</a></li>
<li class="chapter" data-level="10.3" data-path="random_forest.html"><a href="random_forest.html#exercises-9"><i class="fa fa-check"></i><b>10.3</b> Exercises</a></li>
<li class="chapter" data-level="10.4" data-path="random_forest.html"><a href="random_forest.html#solutions-8"><i class="fa fa-check"></i><b>10.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="neural_nets.html"><a href="neural_nets.html"><i class="fa fa-check"></i><b>11</b> Neural networks</a>
<ul>
<li class="chapter" data-level="11.1" data-path="neural_nets.html"><a href="neural_nets.html#learning-objectives-10"><i class="fa fa-check"></i><b>11.1</b> Learning objectives</a></li>
<li class="chapter" data-level="11.2" data-path="neural_nets.html"><a href="neural_nets.html#tutorial-10"><i class="fa fa-check"></i><b>11.2</b> Tutorial</a></li>
<li class="chapter" data-level="11.3" data-path="neural_nets.html"><a href="neural_nets.html#exercises-10"><i class="fa fa-check"></i><b>11.3</b> Exercises</a></li>
<li class="chapter" data-level="11.4" data-path="neural_nets.html"><a href="neural_nets.html#solutions-9"><i class="fa fa-check"></i><b>11.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="interpretable_ml.html"><a href="interpretable_ml.html"><i class="fa fa-check"></i><b>12</b> Interpretable machine learning</a>
<ul>
<li class="chapter" data-level="12.1" data-path="interpretable_ml.html"><a href="interpretable_ml.html#learning-objectives-11"><i class="fa fa-check"></i><b>12.1</b> Learning objectives</a></li>
<li class="chapter" data-level="12.2" data-path="interpretable_ml.html"><a href="interpretable_ml.html#tutorial-11"><i class="fa fa-check"></i><b>12.2</b> Tutorial</a></li>
<li class="chapter" data-level="12.3" data-path="interpretable_ml.html"><a href="interpretable_ml.html#exercises-11"><i class="fa fa-check"></i><b>12.3</b> Exercises</a></li>
<li class="chapter" data-level="12.4" data-path="interpretable_ml.html"><a href="interpretable_ml.html#solutions-10"><i class="fa fa-check"></i><b>12.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applied Geodata Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming_primers" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Programming primers<a href="programming_primers.html#programming_primers" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>Chapter lead author: Pepa Aran</strong></p>
<p>TBC</p>
<p>Contents:</p>
<ul>
<li>Lecture (Beni): Models and data</li>
<li>Base R</li>
<li>variables, classes</li>
<li>data frames</li>
<li>loops</li>
<li>conditional statements</li>
<li>functions</li>
<li>input and output</li>
<li>intro to visualisation</li>
<li>Performance assessment: <a href="https://stineb.netlify.app/files/ex1.pdf">link</a> to my exercise, <a href="https://github.com/stineb/EF_Activities/blob/master/Exercise_01_RPrimer.Rmd">link to Dietze exercise</a></li>
</ul>
<div id="learning-objectives-1" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Learning objectives<a href="programming_primers.html#learning-objectives-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After you’ve gone over the lecture and solved the exercises, you should be able to:</p>
<ul>
<li>Install and load libraries and packages</li>
<li>Read, inspect, visualise and write data frames</li>
<li>Use loops, conditional statements and functions in your code</li>
<li>Organize your R project for data analysis</li>
<li>Look for help</li>
</ul>
</div>
<div id="tutorial-1" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Tutorial<a href="programming_primers.html#tutorial-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="libraries" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Libraries<a href="programming_primers.html#libraries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Packages</em>, sometimes called <em>libraries</em>, are collections of R functions, data, and complied code in a well-defined format. R comes with a standard set of packages (including base R, utils, stats…) and other packages targeted for specific applications are available for download and installation. Once installed, you need to load them each time you start a new R session to use them.</p>
<p>For example, the <code>tidyverse</code> package is used for data wrangling and will be covered in this course. You can install a new package as follows:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="programming_primers.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>Then, you can load it with the following code. Note that now the name of the package is not in quotation marks.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="programming_primers.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>You can now use the functions and features provided by the <code>tidyverse</code> package in your R scripts.</p>
<p>At any time, you can see a list of your installed packages on the source panel with the following command:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="programming_primers.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>()</span></code></pre></div>
<p>And a list of the packages currently loaded:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="programming_primers.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">search</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;.GlobalEnv&quot;        &quot;package:stats&quot;     &quot;package:graphics&quot; 
##  [4] &quot;package:grDevices&quot; &quot;package:datasets&quot;  &quot;renv:shims&quot;       
##  [7] &quot;package:utils&quot;     &quot;package:methods&quot;   &quot;Autoloads&quot;        
## [10] &quot;package:base&quot;</code></pre>
<p>This information can also be found on the <strong>Packages</strong> panel in RStudio. The loaded packages are shown with a tick mark.</p>
<p>Finally, let’s install all the missing packages and load all required packages for this course:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="programming_primers.html#cb74-1" aria-hidden="true" tabindex="-1"></a>use_pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;dplyr&quot;</span>, <span class="st">&quot;tidyr&quot;</span>, <span class="st">&quot;readr&quot;</span>, <span class="st">&quot;lubridate&quot;</span>, <span class="st">&quot;stringr&quot;</span>, <span class="st">&quot;purrr&quot;</span>,</span>
<span id="cb74-2"><a href="programming_primers.html#cb74-2" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;tidyverse&quot;</span>, <span class="st">&quot;visdat&quot;</span>)</span>
<span id="cb74-3"><a href="programming_primers.html#cb74-3" aria-hidden="true" tabindex="-1"></a>new_pkgs <span class="ot">&lt;-</span> use_pkgs[<span class="sc">!</span>(use_pkgs <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="st">&quot;Package&quot;</span>])]</span>
<span id="cb74-4"><a href="programming_primers.html#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(new_pkgs) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">install.packages</span>(new_pkgs)</span></code></pre></div>
<pre><code>## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/tidyverse_1.3.2.tgz&#39; ...
##  OK [downloaded 411 Kb in 0.4 secs]
## Retrieving &#39;https://packagemanager.rstudio.com/cran/latest/src/contrib/dbplyr_2.3.0.tar.gz&#39; ...
##  OK [downloaded 688.4 Kb in 0.8 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/assertthat_0.2.1.tgz&#39; ...
##  OK [downloaded 51.5 Kb in 0.3 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/blob_1.2.3.tgz&#39; ...
##  OK [downloaded 45 Kb in 0.2 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/DBI_1.1.3.tgz&#39; ...
##  OK [downloaded 728.3 Kb in 0.4 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/dtplyr_1.2.2.tgz&#39; ...
##  OK [downloaded 319.8 Kb in 0.5 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/data.table_1.14.6.tgz&#39; ...
##  OK [downloaded 2.2 Mb in 0.5 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/googledrive_2.0.0.tgz&#39; ...
##  OK [downloaded 1.8 Mb in 0.5 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/gargle_1.2.1.tgz&#39; ...
##  OK [downloaded 487.8 Kb in 0.4 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/uuid_1.1-0.tgz&#39; ...
##  OK [downloaded 67.2 Kb in 0.2 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/googlesheets4_1.0.1.tgz&#39; ...
##  OK [downloaded 477.3 Kb in 0.3 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/cellranger_1.1.0.tgz&#39; ...
##  OK [downloaded 99.1 Kb in 0.3 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/rematch_1.0.1.tgz&#39; ...
##  OK [downloaded 11.9 Kb in 0.2 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/ids_1.0.1.tgz&#39; ...
##  OK [downloaded 117.3 Kb in 0.4 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/haven_2.5.1.tgz&#39; ...
##  OK [downloaded 1021.6 Kb in 0.4 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/readxl_1.4.1.tgz&#39; ...
##  OK [downloaded 1.5 Mb in 0.4 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/reprex_2.0.2.tgz&#39; ...
##  OK [downloaded 481.6 Kb in 0.4 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/rvest_1.0.3.tgz&#39; ...
##  OK [downloaded 205.6 Kb in 0.9 secs]
## Retrieving &#39;https://mran.microsoft.com/snapshot/2023-01-08/bin/macosx/contrib/4.2/selectr_0.4-2.tgz&#39; ...
##  OK [downloaded 477.6 Kb in 0.4 secs]
## Installing assertthat [0.2.1] ...
##  OK [installed binary]
## Moving assertthat [0.2.1] into the cache ...
##  OK [moved to cache in 1.7 milliseconds]
## Installing blob [1.2.3] ...
##  OK [installed binary]
## Moving blob [1.2.3] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing DBI [1.1.3] ...
##  OK [installed binary]
## Moving DBI [1.1.3] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing dbplyr [2.3.0] ...
##  OK [built from source]
## Moving dbplyr [2.3.0] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing data.table [1.14.6] ...
##  OK [installed binary]
## Moving data.table [1.14.6] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing dtplyr [1.2.2] ...
##  OK [installed binary]
## Moving dtplyr [1.2.2] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing gargle [1.2.1] ...
##  OK [installed binary]
## Moving gargle [1.2.1] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing uuid [1.1-0] ...
##  OK [installed binary]
## Moving uuid [1.1-0] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing googledrive [2.0.0] ...
##  OK [installed binary]
## Moving googledrive [2.0.0] into the cache ...
##  OK [moved to cache in 1.6 milliseconds]
## Installing rematch [1.0.1] ...
##  OK [installed binary]
## Moving rematch [1.0.1] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing cellranger [1.1.0] ...
##  OK [installed binary]
## Moving cellranger [1.1.0] into the cache ...
##  OK [moved to cache in 1.5 milliseconds]
## Installing ids [1.0.1] ...
##  OK [installed binary]
## Moving ids [1.0.1] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing googlesheets4 [1.0.1] ...
##  OK [installed binary]
## Moving googlesheets4 [1.0.1] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing haven [2.5.1] ...
##  OK [installed binary]
## Moving haven [2.5.1] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing readxl [1.4.1] ...
##  OK [installed binary]
## Moving readxl [1.4.1] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing reprex [2.0.2] ...
##  OK [installed binary]
## Moving reprex [2.0.2] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing selectr [0.4-2] ...
##  OK [installed binary]
## Moving selectr [0.4-2] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]
## Installing rvest [1.0.3] ...
##  OK [installed binary]
## Moving rvest [1.0.3] into the cache ...
##  OK [moved to cache in 1.6 milliseconds]
## Installing tidyverse [1.3.2] ...
##  OK [installed binary]
## Moving tidyverse [1.3.2] into the cache ...
##  OK [moved to cache in 1.4 milliseconds]</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="programming_primers.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">lapply</span>(use_pkgs, require, <span class="at">character.only =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<div id="other-libraries-and-applications" class="section level4 hasAnchor" number="2.2.1.1">
<h4><span class="header-section-number">2.2.1.1</span> Other libraries and applications<a href="programming_primers.html#other-libraries-and-applications" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For this course, we will also need software that is not available as an R package. To work with other libraries and applications, you may need to install additional software on your computer.</p>
<p>For example, to work with <em>netcdf</em> files in R, you would need to install the <code>"ncdf4"</code> library and the <code>netCDF</code> command-line tools:</p>
<ul>
<li>To install the <code>"ncdf4"</code> library, follow the same steps as above for installing an R library.</li>
<li>To install the <code>netCDF</code> command-line tools, follow the instructions on the <a href="https://www.unidata.ucar.edu/downloads/netcdf/index.jsp">netCDF website</a>.</li>
<li>Once the <code>"ncdf4"</code> library and the <code>netCDF</code> command-line tools are installed, you can use them to work with <code>.nc</code> files in R. For example, you could use the <code>nc_open()</code> function from the <code>"ncdf4"</code> library to open a file.</li>
</ul>
</div>
</div>
<div id="programming-basics" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Programming basics<a href="programming_primers.html#programming-basics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, we will review the most basic programming elements (conditional statements, loops, functions…) for the R syntax.</p>
<div id="conditional-statements" class="section level4 hasAnchor" number="2.2.2.1">
<h4><span class="header-section-number">2.2.2.1</span> Conditional statements<a href="programming_primers.html#conditional-statements" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In cases where we want certain statements to be executed or not, depending on a criterion, we can use <em>conditional statements</em> <code>if</code>, <code>else if</code>, and <code>else</code>. Conditionals are an essential feature of programming and available in all languages. The R syntax for conditional statements looks like this:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="programming_primers.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (temp <span class="sc">&lt;</span> <span class="fl">0.0</span>){</span>
<span id="cb77-2"><a href="programming_primers.html#cb77-2" aria-hidden="true" tabindex="-1"></a>  is_frozen <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb77-3"><a href="programming_primers.html#cb77-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The evaluation of the criterion (here <code>(temp &lt; 0.0)</code>) has to return either <code>TRUE</code> or <code>FALSE</code>. Whenever the statement between parenthesis is true, the chunk of code between curly brackets is executed. Otherwise, nothing happens.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="programming_primers.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (temp <span class="sc">&lt;</span> <span class="fl">0.0</span>){</span>
<span id="cb78-2"><a href="programming_primers.html#cb78-2" aria-hidden="true" tabindex="-1"></a>  is_frozen <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb78-3"><a href="programming_primers.html#cb78-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb78-4"><a href="programming_primers.html#cb78-4" aria-hidden="true" tabindex="-1"></a>  is_frozen <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb78-5"><a href="programming_primers.html#cb78-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>You can also write a conditional that covers all possibilities, like the one above. When the temperature is below 0, the first chunk of code is executed. Whenever it is greater or equal that 0 (i.e. the condition returns <code>FALSE</code>) the second chunk of code is evaluated.</p>
<p>You can also write more than two conditions, covering several cases. Conditionals are evaluated in order, so if the first condition is not true, it checks the second. If the second is false, it checks the third, and so on. The statements after <code>else</code> are evaluated when everything before was <code>FALSE</code>.</p>
</div>
<div id="loops" class="section level4 hasAnchor" number="2.2.2.2">
<h4><span class="header-section-number">2.2.2.2</span> Loops<a href="programming_primers.html#loops" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><em>Loops</em> are another essential feature of programming. <code>for</code> and <code>while</code> loops exist in probably all programming languages. We introduce them here because they are a simple and powerful tool for solving many common tasks.</p>
<p><code>for</code> and <code>while</code> loops let us repeatedly execute the same set of commands, while changing an index or counter variable to take a sequence of different values. The following example calculates the sum of the first ten temperature values in <code>df_small</code> (from the previous chapter), by iteratively adding them together.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="programming_primers.html#cb79-1" aria-hidden="true" tabindex="-1"></a>temp_sum <span class="ot">&lt;-</span> <span class="dv">0</span>   <span class="co"># initialize sum</span></span>
<span id="cb79-2"><a href="programming_primers.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb79-3"><a href="programming_primers.html#cb79-3" aria-hidden="true" tabindex="-1"></a>  temp_sum <span class="ot">&lt;-</span> temp_sum <span class="sc">+</span> df_small<span class="sc">$</span>temp[i]</span>
<span id="cb79-4"><a href="programming_primers.html#cb79-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb79-5"><a href="programming_primers.html#cb79-5" aria-hidden="true" tabindex="-1"></a>temp_sum</span></code></pre></div>
<p>Of course, this is equivalent to just using the <code>sum()</code> function.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="programming_primers.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(df_small<span class="sc">$</span>temp[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span></code></pre></div>
<p>Instead of directly telling R how many iterations it should do we can also define a condition. As long as the condition is <code>TRUE</code>, R will continue iterating. As soon as it is <code>FALSE</code>, R stops the loop. The following lines of code do the same operation as the <code>for</code> loop we just wrote. What is different? What is the same?</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="programming_primers.html#cb81-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">=</span> <span class="dv">1</span>           <span class="co"># initialize counter</span></span>
<span id="cb81-2"><a href="programming_primers.html#cb81-2" aria-hidden="true" tabindex="-1"></a>temp_sum <span class="ot">&lt;-</span> <span class="dv">0</span>   <span class="co"># initialize sum</span></span>
<span id="cb81-3"><a href="programming_primers.html#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (i <span class="sc">&lt;=</span> <span class="dv">10</span>){</span>
<span id="cb81-4"><a href="programming_primers.html#cb81-4" aria-hidden="true" tabindex="-1"></a>  temp_sum <span class="ot">&lt;-</span> temp_sum <span class="sc">+</span> df_small<span class="sc">$</span>temp[i]</span>
<span id="cb81-5"><a href="programming_primers.html#cb81-5" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">=</span> i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb81-6"><a href="programming_primers.html#cb81-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb81-7"><a href="programming_primers.html#cb81-7" aria-hidden="true" tabindex="-1"></a>temp_sum</span></code></pre></div>
</div>
<div id="functions-1" class="section level4 hasAnchor" number="2.2.2.3">
<h4><span class="header-section-number">2.2.2.3</span> Functions<a href="programming_primers.html#functions-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Often, analyses require many steps and your scripts may get excessively long. Over 2000 lines of code in one file are hard to digest. An important aspect of good programming is to avoid duplicating code. If the same sequence of multiple statements or functions are to be applied repeatedly to different objects, then it is usually advisable to bundle them into a new <em>function</em> and apply this single function to each object. This also has the advantage that if some requirement or variable name changes, it has to be edited only in one place. A further advantage of writing functions is that you can give the function an intuitively understandable name, so that your code reads like a sequence of orders given to a human.</p>
<p>For example, the following code, converting temperature values provided in Fahrenheit to degrees Celsius, could be turned into a function.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="programming_primers.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="do">## NOT ADVISABLE</span></span>
<span id="cb82-2"><a href="programming_primers.html#cb82-2" aria-hidden="true" tabindex="-1"></a>temp_soil <span class="ot">&lt;-</span> (temp_soil <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> <span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span></span>
<span id="cb82-3"><a href="programming_primers.html#cb82-3" aria-hidden="true" tabindex="-1"></a>temp_air  <span class="ot">&lt;-</span> (temp_air  <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> <span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span></span>
<span id="cb82-4"><a href="programming_primers.html#cb82-4" aria-hidden="true" tabindex="-1"></a>temp_leaf <span class="ot">&lt;-</span> (temp_leaf <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> <span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span></span></code></pre></div>
<p>Functions are a set of instructions encapsulated within curly brackets (<code>{}</code>) that generate a desired outcome. Functions contain four main elements:</p>
<ul>
<li>They start with a <em>name</em> to describe their purpose,</li>
<li>then they need <em>arguments</em>, which are a list of the objects being input,</li>
<li>enclosed by curly brackets <code>function(x){ ... }</code> the code making up the <em>body</em> of the function,</li>
<li>and lastly, within the body, a <em>return</em> statement indicting the output of the function.</li>
</ul>
<p>Below we define our own function <code>convert_fahrenheit_to_celsius()</code>:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="programming_primers.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ADVISABLE</span></span>
<span id="cb83-2"><a href="programming_primers.html#cb83-2" aria-hidden="true" tabindex="-1"></a>convert_fahrenheit_to_celsius <span class="ot">&lt;-</span> <span class="cf">function</span>(temp_f){</span>
<span id="cb83-3"><a href="programming_primers.html#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert values</span></span>
<span id="cb83-4"><a href="programming_primers.html#cb83-4" aria-hidden="true" tabindex="-1"></a>  temp_c <span class="ot">&lt;-</span> (temp_f <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> <span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span></span>
<span id="cb83-5"><a href="programming_primers.html#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return statement</span></span>
<span id="cb83-6"><a href="programming_primers.html#cb83-6" aria-hidden="true" tabindex="-1"></a>  temp_c</span>
<span id="cb83-7"><a href="programming_primers.html#cb83-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb83-8"><a href="programming_primers.html#cb83-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-9"><a href="programming_primers.html#cb83-9" aria-hidden="true" tabindex="-1"></a>temp_soil <span class="ot">&lt;-</span> <span class="fu">convert_fahrenheit_to_celsius</span>(temp_soil)</span>
<span id="cb83-10"><a href="programming_primers.html#cb83-10" aria-hidden="true" tabindex="-1"></a>temp_air  <span class="ot">&lt;-</span> <span class="fu">convert_fahrenheit_to_celsius</span>(temp_air)</span>
<span id="cb83-11"><a href="programming_primers.html#cb83-11" aria-hidden="true" tabindex="-1"></a>temp_leaf <span class="ot">&lt;-</span> <span class="fu">convert_fahrenheit_to_celsius</span>(temp_leaf)</span></code></pre></div>
<p>A good practice when writing a function is to document what the function does, the meaning and structure of every input (arguments) and the output (value) of the function. This helps you and others to reuse that function, without having to read and understand what the function does internally. For example, you can write it as a header in the body of the function, or as a header of the script where you define it. Furthermore, one should use the <code>return()</code> statement only for early returns (e.g. inside an <code>if</code> statement) and otherwise, R returns the result of the last evaluated expression. Note that, without the last line of the function’s body, our function wouldn’t return anything.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="programming_primers.html#cb84-1" aria-hidden="true" tabindex="-1"></a>convert_fahrenheit_to_celsius <span class="ot">&lt;-</span> <span class="cf">function</span>(temp_f){</span>
<span id="cb84-2"><a href="programming_primers.html#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This function converts temperature values in Fahrenheit to Celsius</span></span>
<span id="cb84-3"><a href="programming_primers.html#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Arguments:</span></span>
<span id="cb84-4"><a href="programming_primers.html#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   temp_f:   numerical vector of temperature values in Fahrenheit</span></span>
<span id="cb84-5"><a href="programming_primers.html#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Value:</span></span>
<span id="cb84-6"><a href="programming_primers.html#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   temp_c:   numerical vector of temperatures in Celsius</span></span>
<span id="cb84-7"><a href="programming_primers.html#cb84-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb84-8"><a href="programming_primers.html#cb84-8" aria-hidden="true" tabindex="-1"></a>  temp_c <span class="ot">&lt;-</span> (temp_f <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> <span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span></span>
<span id="cb84-9"><a href="programming_primers.html#cb84-9" aria-hidden="true" tabindex="-1"></a>  temp_c</span>
<span id="cb84-10"><a href="programming_primers.html#cb84-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Functions become increasingly important the more experienced one gets at coding. Using them minimises the amount of code being re-written, decreases accidental errors when retyping code and are key to keeping a clean workspace. Functions have their own environment, which means variables within the function are only ‘live’ or used when the function is running but are not saved to the global environment unless they are part of the output of the function. A good moment to think about using a function is when sections of code are being repeated again and again.</p>
<p>Whenever possible, we should combine multiple processing steps that naturally belong together. Specifically, when the same sequence of steps must be applied to multiple datasets that have the same structure (variable names, etc.). Once such a function is created, we can apply it to the data in one go, instead of repeating the successive steps.</p>
<p>Functions (particularly long ones) can be written to separate source files. These R scripts containing only function definitions can be saved in your <code>./R</code> directory, to keep your workspace organized. Preferably, the file has the same name as the function. We can save the previous function in a script <code>.R/convert_fahrenheit_to_celsius.R</code> and load it later by running <code>source(".R/convert_fahrenheit_to_celsius")</code>.</p>
</div>
</div>
<div id="working-with-data-frames" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Working with data frames<a href="programming_primers.html#working-with-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the first tutorial, we introduced data frames as an R object. Now, let’s get our hands on actual data for demonstrating how data is read, manipulated and written. As most of the code displayed in this book, the code chunks below are executable. You can try it out by opening the the book’s R project in RStudio.</p>
<p>We are going to work with data from ecosystem flux measurements, taken by the eddy covariance technique, and provided as part of the FLUXNET2015 dataset <span class="citation">(<a href="#ref-Pastorello2020" role="doc-biblioref"><strong>Pastorello2020?</strong></a>)</span>, which you can <a href="https://www.nature.com/articles/s41597-020-0534-3">see here</a>. The data we’re using below comes from a flux tower near Zürich (<a href="https://gl.ethz.ch/research/bage/fluxnet-ch.html">CH-Lae</a>, located on the Laegern mountain between Regensberg and Baden and run by our colleagues at ETH).</p>
<p>The data is stored as a Comma Separated Values file (<code>.csv</code>). This is a plain-text, and therefore a non-proprietary format. To follow the open science principles for data, distribute your data in a format that is non-proprietary and readable across platforms and applications. For example, avoid distributing your data as an Excel spreadsheat (<code>.xlsx</code>), or a Matlab data object (<code>.mat</code>), or an R data object (<code>.RData</code>, or <code>.rds</code>).</p>
<div id="reading-data" class="section level4 hasAnchor" number="2.2.3.1">
<h4><span class="header-section-number">2.2.3.1</span> Reading data<a href="programming_primers.html#reading-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To import the data into the R environment, we use the function <code>read_csv()</code> from the tidyverse package. In other R code, you will also encounter the base R <code>read.csv()</code> function. However, <code>read_csv()</code> is much faster and reads data into a tidyverse-data frame (a <em>tibble</em>) which has some useful additional characteristics, on top of a common R data frame. To tell the function where the data is located, pass the data’s path as an argument. You can either use an <em>absolute path</em>, starting from <code>C:/</code> on a Windows computer or <code>~/</code> on a Mac or Linux. Or, alternatively, you can provide a <em>relative path</em>, where <code>./</code> points to the present working directory and <code>../</code> is one level up, or <code>../../</code> is two levels up, etc. We recommend that you work with R projects and use relative paths, because the working directory is set to the root directory of the R project and relative paths will also work on another person’s computer, helping with reproducibility.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="programming_primers.html#cb85-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./data/FLX_CH-Lae_FLUXNET2015_FULLSET_HH_2004-2006.csv&quot;</span>)</span>
<span id="cb85-2"><a href="programming_primers.html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 52,608 × 235
##    TIMEST…¹ TIMES…² TA_F_…³ TA_F_…⁴ TA_ERA  TA_F TA_F_QC SW_IN…⁵ SW_IN…⁶ SW_IN…⁷
##       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1  2.00e11 2.00e11   -9999   -9999  -2.22 -2.22       2       0   -9999   -9999
##  2  2.00e11 2.00e11   -9999   -9999  -2.25 -2.25       2       0   -9999   -9999
##  3  2.00e11 2.00e11   -9999   -9999  -2.28 -2.28       2       0   -9999   -9999
##  4  2.00e11 2.00e11   -9999   -9999  -2.50 -2.50       2       0   -9999   -9999
##  5  2.00e11 2.00e11   -9999   -9999  -2.72 -2.72       2       0   -9999   -9999
##  6  2.00e11 2.00e11   -9999   -9999  -2.94 -2.94       2       0   -9999   -9999
##  7  2.00e11 2.00e11   -9999   -9999  -3.17 -3.17       2       0   -9999   -9999
##  8  2.00e11 2.00e11   -9999   -9999  -3.39 -3.39       2       0   -9999   -9999
##  9  2.00e11 2.00e11   -9999   -9999  -3.61 -3.61       2       0   -9999   -9999
## 10  2.00e11 2.00e11   -9999   -9999  -3.59 -3.59       2       0   -9999   -9999
## # … with 52,598 more rows, 225 more variables: SW_IN_ERA &lt;dbl&gt;, SW_IN_F &lt;dbl&gt;,
## #   SW_IN_F_QC &lt;dbl&gt;, LW_IN_F_MDS &lt;dbl&gt;, LW_IN_F_MDS_QC &lt;dbl&gt;, LW_IN_ERA &lt;dbl&gt;,
## #   LW_IN_F &lt;dbl&gt;, LW_IN_F_QC &lt;dbl&gt;, LW_IN_JSB &lt;dbl&gt;, LW_IN_JSB_QC &lt;dbl&gt;,
## #   LW_IN_JSB_ERA &lt;dbl&gt;, LW_IN_JSB_F &lt;dbl&gt;, LW_IN_JSB_F_QC &lt;dbl&gt;,
## #   VPD_F_MDS &lt;dbl&gt;, VPD_F_MDS_QC &lt;dbl&gt;, VPD_ERA &lt;dbl&gt;, VPD_F &lt;dbl&gt;,
## #   VPD_F_QC &lt;dbl&gt;, PA &lt;dbl&gt;, PA_ERA &lt;dbl&gt;, PA_F &lt;dbl&gt;, PA_F_QC &lt;dbl&gt;, P &lt;dbl&gt;,
## #   P_ERA &lt;dbl&gt;, P_F &lt;dbl&gt;, P_F_QC &lt;dbl&gt;, WS &lt;dbl&gt;, WS_ERA &lt;dbl&gt;, WS_F &lt;dbl&gt;, …</code></pre>
<p>The file is automatically machine-readable because we have:</p>
<ul>
<li>Only one header row, containing the column (variable) names.</li>
<li>Variables organised by columns, and observations by rows.</li>
<li>Each column consists of a single data type (e.g., character, numeric, logical; see below for more info). Here, all columns are interpreted as numeric (`<dbl>’).</li>
<li>One value per cell.</li>
<li>No merged cells. In short, the data frame is tidy. To understand the sort of object we work with, i.e. the <em>class</em>, we can do:</li>
</ul>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="programming_primers.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;spec_tbl_df&quot; &quot;tbl_df&quot;      &quot;tbl&quot;         &quot;data.frame&quot;</code></pre>
<p>Fundamentally, <code>df</code> is a <code>data.frame</code>. In addition, it is also of some other classes (<code>spec_tbl_df", "tbl_df", "tbl"</code>) which gives it additional features.</p>
<p>Other types of data inputs and how to read them will be covered in <a href="data_variety.html#data_variety">Tutorial 5</a>.</p>
</div>
<div id="understanding-the-data-structure" class="section level4 hasAnchor" number="2.2.3.2">
<h4><span class="header-section-number">2.2.3.2</span> Understanding the data structure<a href="programming_primers.html#understanding-the-data-structure" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There are several base R functions to help you understand the structure of a data frame. Here is a non-exhaustive list of of them:</p>
<ul>
<li>Size
<ul>
<li><code>dim()</code> - Returns the dimensions of an object (here: number of rows and columns).</li>
<li><code>nrow()</code> - Returns the number of rows of an object.</li>
<li><code>ncol()</code> - Returns the number of columns of an object.</li>
</ul></li>
<li>Content
<ul>
<li><code>head()</code> - Returns the first 6 rows.</li>
<li><code>tail()</code> - Returns the last 6 rows.</li>
<li><code>View()</code> - Opens a window in the source panel in RStudio where you can look at the entire data set in the form of a table (It is not supported by the Jupyter environment).</li>
</ul></li>
<li>Names
<ul>
<li><code>names()</code> - Returns the column names (for <code>data.frame</code> objects it is synonymous to <code>colnames()</code>).</li>
<li><code>rownames()</code> - Returns the row names.</li>
</ul></li>
<li>Summary
<ul>
<li><code>class()</code> - Returns the classes of an object.</li>
<li><code>str()</code> - Returns the structure of an object and information about the class, length and content of each column.</li>
<li><code>summary()</code> - Returns generic statistics information, depending on the class of the object. For categorical variables it will show how common each class is, missing values, etc, and for numerical variables, the mean, quantiles, maximum and minimum values, etc.</li>
</ul></li>
</ul>
<p>For example, the data frame <code>df</code> has 4018 rows and 334 columns:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="programming_primers.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df)</span></code></pre></div>
<pre><code>## [1] 52608   235</code></pre>
<p>It is important to know the meaning of the column names and content. A description of standardized FLUXNET data variables is available <a href="https://fluxnet.org/data/aboutdata/data-variables/">here</a>. A selection of available variables that we will use in subsequent chapters are:</p>
<ul>
<li><code>GPP</code> (gC m<span class="math inline">\(^{−2}\)</span> s<span class="math inline">\(^{-1}\)</span>): Gross primary production</li>
<li><code>WS</code> (m s<span class="math inline">\(^{-1}\)</span>): Horizontal wind speed</li>
<li><code>USTAR</code> (m s<span class="math inline">\(^{-1}\)</span>): Friction velocity</li>
<li><code>TA</code> (<span class="math inline">\(^{o}\)</span> C): Air temperature</li>
<li><code>RH</code> (%): Relative humidity (range 0–100%)</li>
<li><code>PA</code> (kPa): Atmospheric pressure</li>
<li><code>G</code> (W m<span class="math inline">\(^{−2}\)</span>): Ground heat flux, not mandatory, but needed for the energy balance closure calculations</li>
<li><code>NETRAD</code> (W m<span class="math inline">\(^{−2}\)</span>): Net radiation, not mandatory, but needed for the energy balance closure calculations</li>
<li><code>SW_IN</code> (W m<span class="math inline">\(^{−2}\)</span>): Incoming shortwave radiation</li>
<li><code>SW_IN_POT</code> (W m<span class="math inline">\(^−2\)</span>): Potential incoming shortwave radiation (top of atmosphere theoretical maximum radiation)</li>
<li><code>PPFD_IN</code> (<span class="math inline">\(\mu\)</span>mol photons m<span class="math inline">\(^{−2}\)</span> s<span class="math inline">\(^{-1}\)</span>): Incoming photosynthetic photon flux density</li>
<li><code>P</code> (mm): Precipitation total of each 30 or 60 minute period</li>
<li><code>LW_IN</code> (W m<span class="math inline">\(^{−2}\)</span>): Incoming (down-welling) long-wave radiation</li>
<li><code>SWC</code> (%): Soil water content (volumetric), range 0–100%</li>
<li><code>TS</code> (<span class="math inline">\(^{o}\)</span> C): Soil temperature</li>
<li><code>CO2</code> (<span class="math inline">\(\mu\)</span>molCO<sub>2</sub> mol<span class="math inline">\(^{-1}\)</span>): Carbon dioxide (CO<span class="math inline">\(_2\)</span>) mole fraction in moist air</li>
</ul>
</div>
<div id="selecting-data-and-entering-the-tidyverse" class="section level4 hasAnchor" number="2.2.3.3">
<h4><span class="header-section-number">2.2.3.3</span> Selecting data and entering the tidyverse<a href="programming_primers.html#selecting-data-and-entering-the-tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>df</code> is a data frame. This is similar to a matrix and has two dimensions (rows and columns). If we want to extract specific data from it, we specify the indices, i.e. the “coordinates”, of the data. For two-dimensional objects (data frames, matrices), the first index refers to rows and the second to columns. For example, to refer to the element on the third row in the first column, we write:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="programming_primers.html#cb91-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">3</span>,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   TIMESTAMP_START
##             &lt;dbl&gt;
## 1    200401010100</code></pre>
<p>Reducing a data frame (tibble) to only the first columns can be done by:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="programming_primers.html#cb93-1" aria-hidden="true" tabindex="-1"></a>df[, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>## # A tibble: 52,608 × 1
##    TIMESTAMP_START
##              &lt;dbl&gt;
##  1    200401010000
##  2    200401010030
##  3    200401010100
##  4    200401010130
##  5    200401010200
##  6    200401010230
##  7    200401010300
##  8    200401010330
##  9    200401010400
## 10    200401010430
## # … with 52,598 more rows</code></pre>
<p>The method of selecting parts of a data frame by index is quite flexible. For example, we may require the information in the third column for the first three rows. Putting a colon between two numbers, e.g. <code>[1:3,]</code>, indicates we want to select the rows numbers starting at the first and ending with the second number. So here <code>[1:3,]</code> will give us rows one, two and three.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="programming_primers.html#cb95-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span>] <span class="co"># reduces the data frame (tibble) to its first three rows and the 3rd column</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 1
##   TA_F_MDS
##      &lt;dbl&gt;
## 1    -9999
## 2    -9999
## 3    -9999</code></pre>
<p>To reduce the data frame (tibble) to several columns, the function <code>c()</code> is used. This outputs the data frame (tibble) reduced to the selected row or column numbers inside <code>c()</code>.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="programming_primers.html#cb97-1" aria-hidden="true" tabindex="-1"></a>df[, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">7</span>)]</span></code></pre></div>
<pre><code>## # A tibble: 52,608 × 3
##    TIMESTAMP_START TA_F_MDS_QC TA_F_QC
##              &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;
##  1    200401010000       -9999       2
##  2    200401010030       -9999       2
##  3    200401010100       -9999       2
##  4    200401010130       -9999       2
##  5    200401010200       -9999       2
##  6    200401010230       -9999       2
##  7    200401010300       -9999       2
##  8    200401010330       -9999       2
##  9    200401010400       -9999       2
## 10    200401010430       -9999       2
## # … with 52,598 more rows</code></pre>
<p>Another method is to select the columns by column names, i.e. giving as input a string vector with the name of each column we want to select (again, this is Base R notation). This is especially useful if the columns we want to select are not contiguous. For example:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="programming_primers.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting data by name in base R</span></span>
<span id="cb99-2"><a href="programming_primers.html#cb99-2" aria-hidden="true" tabindex="-1"></a>df[, <span class="fu">c</span>(<span class="st">&quot;TIMESTAMP_START&quot;</span>, <span class="st">&quot;TA_F_MDS&quot;</span>, <span class="st">&quot;TA_F_MDS_QC&quot;</span>)]</span></code></pre></div>
<pre><code>## # A tibble: 52,608 × 3
##    TIMESTAMP_START TA_F_MDS TA_F_MDS_QC
##              &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt;
##  1    200401010000    -9999       -9999
##  2    200401010030    -9999       -9999
##  3    200401010100    -9999       -9999
##  4    200401010130    -9999       -9999
##  5    200401010200    -9999       -9999
##  6    200401010230    -9999       -9999
##  7    200401010300    -9999       -9999
##  8    200401010330    -9999       -9999
##  9    200401010400    -9999       -9999
## 10    200401010430    -9999       -9999
## # … with 52,598 more rows</code></pre>
<p>In <a href="data_wrangling.html#data_wrangling">Tutorial 3</a>, we will use the <a href="https://www.tidyverse.org/">tidyverse</a>, which is a set of R packages designed for working with tidy data and writing code in a way that makes your workflow more clear and understandable. A code chunk which does the same as above, but is written for the tidyverse can read as follows.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="programming_primers.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(df, <span class="dv">1</span>) <span class="co"># reduces the data frame (tibble) to its first column</span></span></code></pre></div>
<pre><code>## # A tibble: 52,608 × 1
##    TIMESTAMP_START
##              &lt;dbl&gt;
##  1    200401010000
##  2    200401010030
##  3    200401010100
##  4    200401010130
##  5    200401010200
##  6    200401010230
##  7    200401010300
##  8    200401010330
##  9    200401010400
## 10    200401010430
## # … with 52,598 more rows</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="programming_primers.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(df, TIMESTAMP_START, TA_F_MDS, TA_F_MDS_QC)  <span class="co"># reduces the data frame to columns specified by names</span></span></code></pre></div>
<pre><code>## # A tibble: 52,608 × 3
##    TIMESTAMP_START TA_F_MDS TA_F_MDS_QC
##              &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt;
##  1    200401010000    -9999       -9999
##  2    200401010030    -9999       -9999
##  3    200401010100    -9999       -9999
##  4    200401010130    -9999       -9999
##  5    200401010200    -9999       -9999
##  6    200401010230    -9999       -9999
##  7    200401010300    -9999       -9999
##  8    200401010330    -9999       -9999
##  9    200401010400    -9999       -9999
## 10    200401010430    -9999       -9999
## # … with 52,598 more rows</code></pre>
<p>As a further shortcut in tidyverse, we can use the pipe <code>%&gt;%</code> operator. The data frame is still reduced to its first column:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="programming_primers.html#cb105-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 52,608 × 1
##    TIMESTAMP_START
##              &lt;dbl&gt;
##  1    200401010000
##  2    200401010030
##  3    200401010100
##  4    200401010130
##  5    200401010200
##  6    200401010230
##  7    200401010300
##  8    200401010330
##  9    200401010400
## 10    200401010430
## # … with 52,598 more rows</code></pre>
<p>We <em>pipe</em> the object <code>df</code> into the <code>select()</code> function with argument <code>1</code>. Note that the pipe operator <code>%&gt;%</code> can be used on any function. It tells the function to interpret what’s coming from the left of <code>%&gt;%</code> as its <strong>first</strong> argument.</p>
<p>For the remainder of the tutorial several variables will be required. The methods of data selection demonstrated above will be used below to get the desired variables.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="programming_primers.html#cb107-1" aria-hidden="true" tabindex="-1"></a>df_small <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb107-2"><a href="programming_primers.html#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(TIMESTAMP_START, TA_F, PPFD_IN)</span></code></pre></div>
<p>Note: In the code above, an indentation was used to highlight which parts go together, which makes the code easy to understand. Indentations and line breaks have no meaning or function in R per se (unlike in other programming languages, e.g., Matlab, Python), but help to make the code easier to read.</p>
</div>
<div id="renaming" class="section level4 hasAnchor" number="2.2.3.4">
<h4><span class="header-section-number">2.2.3.4</span> Renaming<a href="programming_primers.html#renaming" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TIMESTAMP_START, TA_F and PPFD_IN as variable names may be hard to remember and in this section you will have to type them a lot. Therefore we change their names to something more intelligible.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="programming_primers.html#cb108-1" aria-hidden="true" tabindex="-1"></a>df_small <span class="ot">&lt;-</span> df_small <span class="sc">%&gt;%</span> </span>
<span id="cb108-2"><a href="programming_primers.html#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">time =</span> TIMESTAMP_START, <span class="at">temp =</span> TA_F, <span class="at">ppfd =</span> PPFD_IN)</span></code></pre></div>
</div>
<div id="writing-data" class="section level4 hasAnchor" number="2.2.3.5">
<h4><span class="header-section-number">2.2.3.5</span> Writing data<a href="programming_primers.html#writing-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A data frame can be written to a CSV file by:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="programming_primers.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_small, <span class="at">file =</span> <span class="st">&quot;data/df_small.csv&quot;</span>)</span></code></pre></div>
<p>Note that making a file publicly available as a <code>.rds</code> or <code>.RData</code> file violates the open science principles. It is not <em>interoperable</em>. Therefore, whenever possible, save your data in a format that is readable across platforms without requiring proprietary software. Hence use <code>write_csv()</code> whenever possible. We will encounter other non-proprietary formats that let you save and share more complex data structures in <a href="data_variety.html#data_variety">Tutorial 5</a>.</p>
</div>
<div id="intro-to-visualisation" class="section level4 hasAnchor" number="2.2.3.6">
<h4><span class="header-section-number">2.2.3.6</span> Intro to visualisation<a href="programming_primers.html#intro-to-visualisation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Visualising data is an integral part of any data science workflow. In this section, we introduce just the very basics. In <a href="#data_visualisation">Tutorial 4</a>, you will get introduced to additional methods for visualising data. Our data frame <code>fluxes_subset</code> contains three variables, one of which is <code>time</code>. In other words, we are dealing with a time series. Let’s look at the temporal course of temperature in the first 1440 time steps (corresponding to 30 days) as a line plot (<code>type = "l"</code>).</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="programming_primers.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1440</span>, df_small<span class="sc">$</span>temp[<span class="dv">1</span><span class="sc">:</span><span class="dv">1440</span>], <span class="at">type =</span> <span class="st">&quot;l&quot;</span>) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-59-1.png" width="672" /></p>
<p>Another useful way of looking, not at a temporal course, but rather at the distribution of your data, is to display a histogram. A histogram visualises the frequency or proportion of data that has a metric value that falls within a certain interval known as a ‘bin’. Below you will see the temperature on the x-axis split into these ‘bins’ ranging across 2°. The number of times a data point falls between say 2° to 4° is then tallied and displayed as the frequency on the y-axis. Here there are around 1500 temperature values between 2° and 4°.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="programming_primers.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df_small<span class="sc">$</span>temp, <span class="at">xlab =</span> <span class="st">&quot;Temperature (°C)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-60-1.png" width="672" /></p>
<p>Plots can be saved as files, as long as the file size does not get too large. It will write vector graphics as outputs, i.e. PDF. In base R, this can be done by:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="programming_primers.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pdf</span>(<span class="st">&quot;./figures/filename.pdf&quot;</span>)</span>
<span id="cb112-2"><a href="programming_primers.html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df_small<span class="sc">$</span>temp)</span></code></pre></div>
</div>
</div>
<div id="where-to-find-help" class="section level3 hasAnchor" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Where to find help<a href="programming_primers.html#where-to-find-help" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The material covered in this course will give you a solid basis for your future projects. Even more so, it provides you with code examples that you can adapt to your own purposes. Naturally, you will face problems we did not cover in the course and you will need to learn more as you go. The good news is, you do not have to. Many people make their code available online and often others have faced similar problems. Modifying existing code might make it easier for you to get started.</p>
<div id="within-r" class="section level4 hasAnchor" number="2.2.4.1">
<h4><span class="header-section-number">2.2.4.1</span> Within R<a href="programming_primers.html#within-r" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>“<em>I know the name of a function that might help solve the problem but I do not know how to use it.</em>” Typing a <code>?</code> in front of the function will open the documentation of the function, giving lots of information on the uses and options a function has. You have learned a few things about plots but you may not know how to make a boxplot:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="programming_primers.html#cb113-1" aria-hidden="true" tabindex="-1"></a>?boxplot</span></code></pre></div>
<p>Running the above code will open the information on making boxplots in R.</p>
<p>If you do know how a function works but need to be reminded of the arguments it takes, simply type:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="programming_primers.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(boxplot)</span></code></pre></div>
<p>“<em>There must be a function that does task X but I do not know which one.</em>” Typing <code>??</code> will call the function <code>help.search()</code>. Maybe you want to save a plot as a JPEG but you do not know how:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="programming_primers.html#cb115-1" aria-hidden="true" tabindex="-1"></a>??jpeg</span></code></pre></div>
<p>Note that it only looks through your <em>installed</em> packages.</p>
</div>
<div id="online" class="section level4 hasAnchor" number="2.2.4.2">
<h4><span class="header-section-number">2.2.4.2</span> Online<a href="programming_primers.html#online" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To search in the entire library of R go to the website <a href="https://www.rdocumentation.org/">rdocumentation.org</a> or turn to a search engine of your choice. It will send you to the appropriate function documentation or a helpful forum where someone has already asked a similar question. Most of the time you will end up on <a href="https://stackoverflow.com/">stackoverflow.com</a>, a forum where most questions have already been answered.</p>
</div>
<div id="error-messages" class="section level4 hasAnchor" number="2.2.4.3">
<h4><span class="header-section-number">2.2.4.3</span> Error messages<a href="programming_primers.html#error-messages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If you do not understand the error message, start by searching the web. Be aware, that this is not always useful as developers rely on the error catching provided by R. To be more specific add the name of the function and package you are using, to get a more detailed answer.</p>
</div>
<div id="asking-for-help" class="section level4 hasAnchor" number="2.2.4.4">
<h4><span class="header-section-number">2.2.4.4</span> Asking for help<a href="programming_primers.html#asking-for-help" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If you cannot find a solution online, start by asking your friends and colleagues. Someone with more experience than you might be able and willing to help you. When asking for help it is important to think about how you state the problem. The key to receiving help is to make it as easy as possible to understand the issue your facing. Try to reduce what does not work to a simple example. Reproduce a problem with a simple data frame instead of one with thousands of rows. Generalize it in a way that people who do not do research in your field can understand the problem. If you are asking a question online in a forum include the output of <code>sessionInfo()</code> (it provides information about the R version, packages your using,…) and other information that can be helpful to understand the problem. stackoverflow.com has its own guidelines on how to ask a good question, which you should follow. If your question is well crafted and has not been answered before you can sometimes get an answer within 5 minutes. <a href="https://stackoverflow.com/help/how-to-ask" class="uri">https://stackoverflow.com/help/how-to-ask</a></p>
<p>Finally, many packages have a mailing list or allow you to open a query on the code repository, where you can ask specific questions. The same is true for R itself. The R-Help mailing list <a href="https://stat.ethz.ch/mailman/listinfo/r-help" class="uri">https://stat.ethz.ch/mailman/listinfo/r-help</a> is read by many people. However, the tone of such mailing lists can be pretty dry and unwelcoming to new users. Be sure to use the right terminology or else you might get an answer pointing out your misuse of language instead of your problem. Also, be sure your question is valid. Or else you won’t get an answer.</p>
</div>
</div>
</div>
<div id="exercises-1" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Exercises<a href="programming_primers.html#exercises-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="solutions-1" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Solutions<a href="programming_primers.html#solutions-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting_started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data_wrangling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-programming_primers.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
